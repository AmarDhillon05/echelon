{"ast":null,"code":"var _jsxFileName = \"/home/adhillon053/echelon/client/src/routes/Leaderboard.js\",\n  _s = $RefreshSig$();\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport pako from \"pako\";\nimport Navbar from \"../components/Navbar\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Leaderboard() {\n  _s();\n  var _ld$order, _ld$required2;\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const api_link = \"http://localhost:2022/api\";\n  const [ld, setLd] = useState({});\n  const [contributors, setContributors] = useState([]);\n  const [currentContributor, setCurrentContributor] = useState(\"\");\n  const [contributorValid, setContributorValid] = useState(null);\n  const [user, setUser] = useState({});\n  const [inputs, setInputs] = useState([\"\"]);\n  const [captions, setCaptions] = useState([\"\"]);\n\n  // Initial setup\n  useEffect(() => {\n    const userObj = localStorage.getItem(\"user\");\n    if (!userObj) navigate(\"/login\");else setUser(JSON.parse(userObj));\n    updateLd();\n  }, []);\n  async function updateLd() {\n    const {\n      data\n    } = await axios.post(api_link + \"/leaderboard/getLeaderboardById\", {\n      id\n    });\n    const ldb = data.leaderboard;\n    ldb.id = id;\n    console.log(ldb.coverPhoto);\n    setLd(ldb);\n  }\n\n  // File compression\n  async function compressFileToBase64(file) {\n    const arrayBuffer = await file.arrayBuffer();\n    const compressed = pako.deflate(new Uint8Array(arrayBuffer));\n    const base64 = btoa(String.fromCharCode(...compressed));\n    return {\n      base64: base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\"),\n      mimeType: file.type || \"application/octet-stream\"\n    };\n  }\n\n  //Does NOT pair with compress\n  function decompressbase64(base64, mimeType = \"image/jpeg\") {\n    if (!base64) return \"\";\n\n    // Convert base64url back to standard base64\n    const padded = base64.replace(/-/g, \"+\").replace(/_/g, \"/\") + \"=\".repeat((4 - base64.length % 4) % 4);\n    const binary = atob(padded);\n\n    // Convert binary string to Uint8Array\n    const compressedBytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n      compressedBytes[i] = binary.charCodeAt(i);\n    }\n\n    // Decompress using pako\n    const decompressed = pako.inflate(compressedBytes);\n\n    // Turn back into a Blob and generate a blob URL\n    const blob = new Blob([decompressed], {\n      type: mimeType\n    });\n    return URL.createObjectURL(blob);\n  }\n\n  // Contributor validation\n  async function confirmUser() {\n    try {\n      const {\n        data\n      } = await axios.post(api_link + \"/users/get-user-data\", {\n        username: currentContributor\n      });\n      return !data.error;\n    } catch {\n      return false;\n    }\n  }\n  useEffect(() => {\n    if (!currentContributor) return;\n    confirmUser().then(valid => setContributorValid(valid));\n  }, [currentContributor]);\n\n  // Form submit\n  async function newSubmission(e) {\n    e.preventDefault();\n    const form = document.getElementById(\"submission\");\n    const formData = new FormData(form);\n    const data = Object.fromEntries(formData.entries());\n    for (const [key, value] of Object.entries(data)) {\n      if (value instanceof File && value.size > 0) {\n        var _ld$required, _ld$required$find;\n        const dtype = ((_ld$required = ld.required) === null || _ld$required === void 0 ? void 0 : (_ld$required$find = _ld$required.find(x => x.name === key)) === null || _ld$required$find === void 0 ? void 0 : _ld$required$find.type) || \"\";\n        if (!value.type.includes(dtype)) {\n          document.getElementById(\"subErrText\").innerHTML = `Wrong file type for \"${key}\"`;\n          return;\n        }\n        data[key] = await compressFileToBase64(value);\n      } else if (!value) {\n        document.getElementById(\"subErrText\").innerHTML = \"Fill out all fields!\";\n        return;\n      }\n    }\n    const body = {\n      data,\n      contributors: [...contributors, user.username],\n      name: data.name,\n      leaderboard: ld.name\n    };\n    try {\n      const {\n        data\n      } = await axios.post(api_link + \"/leaderboard/createSubmission\", body);\n      if (data.error) {\n        document.getElementById(\"subErrText\").innerHTML = data.error;\n      } else {\n        form.reset();\n        setContributors([]);\n        setCurrentContributor(\"\");\n        setContributorValid(null);\n        document.getElementById(\"subErrText\").innerHTML = \"\";\n        document.getElementById(\"subConfText\").innerHTML = \"Successfully submitted!\";\n        await updateLd();\n      }\n    } catch {\n      document.getElementById(\"subErrText\").innerHTML = \"Unable to submit.\";\n    }\n  }\n\n  // For \"any\" type inputs\n  function MultipleInputList({\n    req\n  }) {\n    const addInput = () => {\n      setInputs([...inputs, \"\"]);\n      setCaptions([...captions, \"\"]);\n    };\n    const removeInput = index => {\n      setInputs(inputs.filter((_, i) => i !== index));\n      setCaptions(captions.filter((_, i) => i !== index));\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: [inputs.map((_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: [\"text\", \"link\"].includes(req.type) ? \"text\" : \"file\",\n          name: `${req.name} ${index}`,\n          className: \"bg-black text-white p-2 rounded w-full border border-purple-700\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: `${req.name} ${index} caption`,\n          placeholder: \"Caption\",\n          className: \"bg-black text-white p-2 rounded border border-purple-700 w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), inputs.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => removeInput(index),\n          className: \"text-red-500 px-2 py-1\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: addInput,\n        className: \"text-sm text-purple-400 hover:underline\",\n        children: \"+ Add another\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-6 py-10 grid grid-cols-1 lg:grid-cols-2 gap-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 shadow-[0_0_25px_#a855f7aa]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-60 rounded-xl bg-cover bg-center relative flex items-center px-6 py-8\",\n            style: {\n              backgroundImage: `url(${decompressbase64(ld.coverPhoto)})`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-black/60 p-4 rounded-lg max-w-2xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-purple-400\",\n                children: ld.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 overflow-y-scroll min-h-1/4 max-h-1/4\",\n                children: ld.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-purple-300\",\n            children: [ld.n_votes || 0, \" votes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4\",\n          children: \"Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 max-h-[400px] overflow-y-auto pr-2\",\n          children: (_ld$order = ld.order) !== null && _ld$order !== void 0 && _ld$order.length ? ld.order.map((subname, i) => {\n            var _ld$submissions;\n            const sub = (_ld$submissions = ld.submissions) === null || _ld$submissions === void 0 ? void 0 : _ld$submissions[subname];\n            if (!sub) return null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg transition-all duration-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xl font-bold text-yellow-400 animate-pulse\",\n                  children: [\"#\", i + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold\",\n                    children: subname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-400\",\n                    children: [\"ELO: \", parseInt(sub.elo)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-300\",\n                children: [\"Rank \", sub.rank]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 italic\",\n            children: \"No submissions yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-6 w-full py-2 bg-purple-600 hover:bg-purple-700 rounded-md font-bold transition shadow-md shadow-purple-800/40\",\n          onClick: () => navigate(\"/rank/\" + id),\n          children: \"Start Playing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 shadow-[0_0_25px_#a855f7aa]\",\n        children: ld.locked ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-400 font-medium\",\n          children: \"Submissions are locked for this board.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-semibold text-purple-400 mb-4\",\n            children: \"Submit Your Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-1\",\n              children: \"Add Contributor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: currentContributor,\n                onChange: e => setCurrentContributor(e.target.value),\n                className: \"bg-black text-white p-2 rounded border border-purple-700 w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-sm rounded\",\n                onClick: () => {\n                  if (contributorValid && currentContributor) {\n                    setContributors([...contributors, currentContributor]);\n                    setCurrentContributor(\"\");\n                  }\n                },\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), currentContributor && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-sm mt-1 ${contributorValid ? \"text-green-400\" : \"text-red-400\"}`,\n              children: contributorValid ? \"Valid contributor\" : \"User not found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2 mt-2\",\n              children: contributors.map((c, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 bg-gray-800 text-sm rounded-full flex items-center gap-2\",\n                children: [c, /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setContributors(contributors.filter((_, i) => i !== idx)),\n                  className: \"text-red-400 hover:text-red-600\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"submission\",\n            onSubmit: newSubmission,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                className: \"block text-sm mb-1\",\n                children: \"Submission Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"name\",\n                id: \"name\",\n                type: \"text\",\n                className: \"bg-black text-white p-2 rounded w-full border border-purple-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), (_ld$required2 = ld.required) === null || _ld$required2 === void 0 ? void 0 : _ld$required2.map((req, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: req.name,\n                className: \"block text-sm mb-1\",\n                children: [req.name, \" (\", req.type, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this), req.list === \"yes\" ? req.amount === \"any\" ? /*#__PURE__*/_jsxDEV(MultipleInputList, {\n                req: req\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 25\n              }, this) : Array.from({\n                length: parseInt(req.amount) || 1\n              }).map((_, i) => /*#__PURE__*/_jsxDEV(\"input\", {\n                type: [\"text\", \"link\"].includes(req.type) ? \"text\" : \"file\",\n                name: `${req.name} ${i}`,\n                className: \"bg-black text-white p-2 rounded w-full border border-purple-700 mb-2\"\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 27\n              }, this)) : /*#__PURE__*/_jsxDEV(\"input\", {\n                type: [\"text\", \"link\"].includes(req.type) ? \"text\" : \"file\",\n                name: req.name,\n                className: \"bg-black text-white p-2 rounded w-full border border-purple-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 23\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-md shadow-md shadow-purple-800/40\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 mt-2\",\n            id: \"subErrText\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-green-500 mt-1\",\n            id: \"subConfText\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n}\n_s(Leaderboard, \"0A1+gFO4yS4EzpWCEFFJLD/PgFE=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = Leaderboard;\nvar _c;\n$RefreshReg$(_c, \"Leaderboard\");","map":{"version":3,"names":["useParams","useNavigate","useState","useEffect","axios","pako","Navbar","jsxDEV","_jsxDEV","Fragment","_Fragment","Leaderboard","_s","_ld$order","_ld$required2","navigate","id","api_link","ld","setLd","contributors","setContributors","currentContributor","setCurrentContributor","contributorValid","setContributorValid","user","setUser","inputs","setInputs","captions","setCaptions","userObj","localStorage","getItem","JSON","parse","updateLd","data","post","ldb","leaderboard","console","log","coverPhoto","compressFileToBase64","file","arrayBuffer","compressed","deflate","Uint8Array","base64","btoa","String","fromCharCode","replace","mimeType","type","decompressbase64","padded","repeat","length","binary","atob","compressedBytes","i","charCodeAt","decompressed","inflate","blob","Blob","URL","createObjectURL","confirmUser","username","error","then","valid","newSubmission","e","preventDefault","form","document","getElementById","formData","FormData","Object","fromEntries","entries","key","value","File","size","_ld$required","_ld$required$find","dtype","required","find","x","name","includes","innerHTML","body","reset","MultipleInputList","req","addInput","removeInput","index","filter","_","className","children","map","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onClick","style","backgroundImage","description","n_votes","order","subname","_ld$submissions","sub","submissions","parseInt","elo","rank","locked","onChange","target","c","idx","onSubmit","htmlFor","list","amount","Array","from","_c","$RefreshReg$"],"sources":["/home/adhillon053/echelon/client/src/routes/Leaderboard.js"],"sourcesContent":["import { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport pako from \"pako\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\n\r\n\r\n\r\nexport default function Leaderboard() {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const api_link = \"http://localhost:2022/api\";\r\n\r\n  const [ld, setLd] = useState({});\r\n  const [contributors, setContributors] = useState([]);\r\n  const [currentContributor, setCurrentContributor] = useState(\"\");\r\n  const [contributorValid, setContributorValid] = useState(null);\r\n  const [user, setUser] = useState({});\r\n  const [inputs, setInputs] = useState([\"\"]);\r\n  const [captions, setCaptions] = useState([\"\"]);\r\n\r\n  // Initial setup\r\n  useEffect(() => {\r\n    const userObj = localStorage.getItem(\"user\");\r\n    if (!userObj) navigate(\"/login\");\r\n    else setUser(JSON.parse(userObj));\r\n    updateLd();\r\n  }, []);\r\n\r\n  async function updateLd() {\r\n    const { data } = await axios.post(api_link + \"/leaderboard/getLeaderboardById\", { id });\r\n    const ldb = data.leaderboard;\r\n    ldb.id = id;\r\n    console.log(ldb.coverPhoto)\r\n    setLd(ldb);\r\n  }\r\n\r\n\r\n\r\n\r\n  // File compression\r\n  async function compressFileToBase64(file) {\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    const compressed = pako.deflate(new Uint8Array(arrayBuffer));\r\n    const base64 = btoa(String.fromCharCode(...compressed));\r\n    return {\r\n      base64: base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\"),\r\n      mimeType: file.type || \"application/octet-stream\",\r\n    };\r\n  }\r\n\r\n\r\n\r\n  //Does NOT pair with compress\r\n  function decompressbase64(base64, mimeType = \"image/jpeg\") {\r\n    if (!base64) return \"\";\r\n\r\n    // Convert base64url back to standard base64\r\n    const padded = base64.replace(/-/g, \"+\").replace(/_/g, \"/\") + \"=\".repeat((4 - base64.length % 4) % 4);\r\n    const binary = atob(padded);\r\n\r\n    // Convert binary string to Uint8Array\r\n    const compressedBytes = new Uint8Array(binary.length);\r\n    for (let i = 0; i < binary.length; i++) {\r\n      compressedBytes[i] = binary.charCodeAt(i);\r\n    }\r\n\r\n    // Decompress using pako\r\n    const decompressed = pako.inflate(compressedBytes);\r\n\r\n    // Turn back into a Blob and generate a blob URL\r\n    const blob = new Blob([decompressed], { type: mimeType });\r\n    return URL.createObjectURL(blob);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  // Contributor validation\r\n  async function confirmUser() {\r\n    try {\r\n      const { data } = await axios.post(api_link + \"/users/get-user-data\", { username: currentContributor });\r\n      return !data.error;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!currentContributor) return;\r\n    confirmUser().then(valid => setContributorValid(valid));\r\n  }, [currentContributor]);\r\n\r\n  // Form submit\r\n  async function newSubmission(e) {\r\n    e.preventDefault();\r\n    const form = document.getElementById(\"submission\");\r\n    const formData = new FormData(form);\r\n    const data = Object.fromEntries(formData.entries());\r\n\r\n    for (const [key, value] of Object.entries(data)) {\r\n      if (value instanceof File && value.size > 0) {\r\n        const dtype = ld.required?.find((x) => x.name === key)?.type || \"\";\r\n        if (!value.type.includes(dtype)) {\r\n          document.getElementById(\"subErrText\").innerHTML = `Wrong file type for \"${key}\"`;\r\n          return;\r\n        }\r\n        data[key] = await compressFileToBase64(value);\r\n      } else if (!value) {\r\n        document.getElementById(\"subErrText\").innerHTML = \"Fill out all fields!\";\r\n        return;\r\n      }\r\n    }\r\n\r\n    const body = {\r\n      data,\r\n      contributors: [...contributors, user.username],\r\n      name: data.name,\r\n      leaderboard: ld.name,\r\n    };\r\n\r\n    try {\r\n      const { data } = await axios.post(api_link + \"/leaderboard/createSubmission\", body);\r\n      if (data.error) {\r\n        document.getElementById(\"subErrText\").innerHTML = data.error;\r\n      } else {\r\n        form.reset();\r\n        setContributors([]);\r\n        setCurrentContributor(\"\");\r\n        setContributorValid(null);\r\n        document.getElementById(\"subErrText\").innerHTML = \"\";\r\n        document.getElementById(\"subConfText\").innerHTML = \"Successfully submitted!\";\r\n        await updateLd();\r\n      }\r\n    } catch {\r\n      document.getElementById(\"subErrText\").innerHTML = \"Unable to submit.\";\r\n    }\r\n  }\r\n\r\n  // For \"any\" type inputs\r\n  function MultipleInputList({ req }) {\r\n    const addInput = () => {\r\n      setInputs([...inputs, \"\"]);\r\n      setCaptions([...captions, \"\"]);\r\n    };\r\n\r\n    const removeInput = (index) => {\r\n      setInputs(inputs.filter((_, i) => i !== index));\r\n      setCaptions(captions.filter((_, i) => i !== index));\r\n    };\r\n\r\n    return (\r\n      <div className=\"space-y-2\">\r\n        {inputs.map((_, index) => (\r\n          <div key={index} className=\"flex gap-2 items-center\">\r\n            <input\r\n              type={[\"text\", \"link\"].includes(req.type) ? \"text\" : \"file\"}\r\n              name={`${req.name} ${index}`}\r\n              className=\"bg-black text-white p-2 rounded w-full border border-purple-700\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name={`${req.name} ${index} caption`}\r\n              placeholder=\"Caption\"\r\n              className=\"bg-black text-white p-2 rounded border border-purple-700 w-full\"\r\n            />\r\n            {inputs.length > 1 && (\r\n              <button type=\"button\" onClick={() => removeInput(index)} className=\"text-red-500 px-2 py-1\">\r\n                ✕\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n        <button type=\"button\" onClick={addInput} className=\"text-sm text-purple-400 hover:underline\">\r\n          + Add another\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white\">\r\n      <Navbar />\r\n      <div className=\"max-w-6xl mx-auto px-6 py-10 grid grid-cols-1 lg:grid-cols-2 gap-10\">\r\n\r\n\r\n\r\n        {/* Leaderboard Panel */}\r\n        <div className=\"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 shadow-[0_0_25px_#a855f7aa]\">\r\n          <div className=\"flex justify-between mb-6\">\r\n\r\n\r\n            <div\r\n              className=\"w-full h-60 rounded-xl bg-cover bg-center relative flex items-center px-6 py-8\"\r\n              style={{ backgroundImage: `url(${decompressbase64(ld.coverPhoto)})` }}\r\n            >\r\n              <div className=\"bg-black/60 p-4 rounded-lg max-w-2xl\">\r\n                <h1 className=\"text-3xl font-bold text-purple-400\">{ld.name}</h1>\r\n                <p className=\"text-gray-300 overflow-y-scroll min-h-1/4 max-h-1/4\">{ld.description}</p>\r\n              </div>\r\n            </div>\r\n\r\n            \r\n            <p className=\"text-lg font-semibold text-purple-300\">{ld.n_votes || 0} votes</p>\r\n          </div>\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Leaderboard</h2>\r\n          <div className=\"space-y-3 max-h-[400px] overflow-y-auto pr-2\">\r\n            {ld.order?.length ? (\r\n              ld.order.map((subname, i) => {\r\n                const sub = ld.submissions?.[subname];\r\n                if (!sub) return null;\r\n                return (\r\n                  <div\r\n                    key={i}\r\n                    className=\"flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg transition-all duration-300\"\r\n                  >\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"text-xl font-bold text-yellow-400 animate-pulse\">#{i + 1}</div>\r\n                      <div>\r\n                        <p className=\"font-semibold\">{subname}</p>\r\n                        <p className=\"text-sm text-gray-400\">ELO: {parseInt(sub.elo)}</p>\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-300\">Rank {sub.rank}</span>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <p className=\"text-gray-500 italic\">No submissions yet.</p>\r\n            )}\r\n          </div>\r\n          <button\r\n            className=\"mt-6 w-full py-2 bg-purple-600 hover:bg-purple-700 rounded-md font-bold transition shadow-md shadow-purple-800/40\"\r\n            onClick={() => navigate(\"/rank/\" + id)}\r\n          >\r\n            Start Playing\r\n          </button>\r\n        </div>\r\n\r\n\r\n        \r\n\r\n        {/* Submission Panel */}\r\n        <div className=\"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 shadow-[0_0_25px_#a855f7aa]\">\r\n          {ld.locked ? (\r\n            <p className=\"text-red-400 font-medium\">Submissions are locked for this board.</p>\r\n          ) : (\r\n            <>\r\n              <h2 className=\"text-3xl font-semibold text-purple-400 mb-4\">Submit Your Project</h2>\r\n\r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium mb-1\">Add Contributor</label>\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={currentContributor}\r\n                    onChange={(e) => setCurrentContributor(e.target.value)}\r\n                    className=\"bg-black text-white p-2 rounded border border-purple-700 w-full\"\r\n                  />\r\n                  <button\r\n                    className=\"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-sm rounded\"\r\n                    onClick={() => {\r\n                      if (contributorValid && currentContributor) {\r\n                        setContributors([...contributors, currentContributor]);\r\n                        setCurrentContributor(\"\");\r\n                      }\r\n                    }}\r\n                  >\r\n                    Add\r\n                  </button>\r\n                </div>\r\n                {currentContributor && (\r\n                  <p\r\n                    className={`text-sm mt-1 ${\r\n                      contributorValid ? \"text-green-400\" : \"text-red-400\"\r\n                    }`}\r\n                  >\r\n                    {contributorValid ? \"Valid contributor\" : \"User not found\"}\r\n                  </p>\r\n                )}\r\n                <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                  {contributors.map((c, idx) => (\r\n                    <span\r\n                      key={idx}\r\n                      className=\"px-3 py-1 bg-gray-800 text-sm rounded-full flex items-center gap-2\"\r\n                    >\r\n                      {c}\r\n                      <button\r\n                        onClick={() => setContributors(contributors.filter((_, i) => i !== idx))}\r\n                        className=\"text-red-400 hover:text-red-600\"\r\n                      >\r\n                        ✕\r\n                      </button>\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <form id=\"submission\" onSubmit={newSubmission} className=\"space-y-4\">\r\n                <div>\r\n                  <label htmlFor=\"name\" className=\"block text-sm mb-1\">\r\n                    Submission Name\r\n                  </label>\r\n                  <input\r\n                    name=\"name\"\r\n                    id=\"name\"\r\n                    type=\"text\"\r\n                    className=\"bg-black text-white p-2 rounded w-full border border-purple-700\"\r\n                  />\r\n                </div>\r\n\r\n                {ld.required?.map((req, key) => (\r\n                  <div key={key}>\r\n                    <label htmlFor={req.name} className=\"block text-sm mb-1\">\r\n                      {req.name} ({req.type})\r\n                    </label>\r\n                    {req.list === \"yes\" ? (\r\n                      req.amount === \"any\" ? (\r\n                        <MultipleInputList req={req} />\r\n                      ) : (\r\n                        Array.from({ length: parseInt(req.amount) || 1 }).map((_, i) => (\r\n                          <input\r\n                            key={i}\r\n                            type={[\"text\", \"link\"].includes(req.type) ? \"text\" : \"file\"}\r\n                            name={`${req.name} ${i}`}\r\n                            className=\"bg-black text-white p-2 rounded w-full border border-purple-700 mb-2\"\r\n                          />\r\n                        ))\r\n                      )\r\n                    ) : (\r\n                      <input\r\n                        type={[\"text\", \"link\"].includes(req.type) ? \"text\" : \"file\"}\r\n                        name={req.name}\r\n                        className=\"bg-black text-white p-2 rounded w-full border border-purple-700\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                ))}\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"w-full py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-md shadow-md shadow-purple-800/40\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </form>\r\n\r\n              <p className=\"text-red-500 mt-2\" id=\"subErrText\"></p>\r\n              <p className=\"text-green-500 mt-1\" id=\"subConfText\"></p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,MAAM,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAK1C,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,SAAA,EAAAC,aAAA;EACpC,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEe;EAAG,CAAC,GAAGhB,SAAS,CAAC,CAAC;EAC1B,MAAMiB,QAAQ,GAAG,2BAA2B;EAE5C,MAAM,CAACC,EAAE,EAAEC,KAAK,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChC,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACoB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACsB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACwB,IAAI,EAAEC,OAAO,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM,CAAC0B,MAAM,EAAEC,SAAS,CAAC,GAAG3B,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EAC1C,MAAM,CAAC4B,QAAQ,EAAEC,WAAW,CAAC,GAAG7B,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;;EAE9C;EACAC,SAAS,CAAC,MAAM;IACd,MAAM6B,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC5C,IAAI,CAACF,OAAO,EAAEjB,QAAQ,CAAC,QAAQ,CAAC,CAAC,KAC5BY,OAAO,CAACQ,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,CAAC;IACjCK,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,QAAQA,CAAA,EAAG;IACxB,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMlC,KAAK,CAACmC,IAAI,CAACtB,QAAQ,GAAG,iCAAiC,EAAE;MAAED;IAAG,CAAC,CAAC;IACvF,MAAMwB,GAAG,GAAGF,IAAI,CAACG,WAAW;IAC5BD,GAAG,CAACxB,EAAE,GAAGA,EAAE;IACX0B,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,UAAU,CAAC;IAC3BzB,KAAK,CAACqB,GAAG,CAAC;EACZ;;EAKA;EACA,eAAeK,oBAAoBA,CAACC,IAAI,EAAE;IACxC,MAAMC,WAAW,GAAG,MAAMD,IAAI,CAACC,WAAW,CAAC,CAAC;IAC5C,MAAMC,UAAU,GAAG3C,IAAI,CAAC4C,OAAO,CAAC,IAAIC,UAAU,CAACH,WAAW,CAAC,CAAC;IAC5D,MAAMI,MAAM,GAAGC,IAAI,CAACC,MAAM,CAACC,YAAY,CAAC,GAAGN,UAAU,CAAC,CAAC;IACvD,OAAO;MACLG,MAAM,EAAEA,MAAM,CAACI,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MACzEC,QAAQ,EAAEV,IAAI,CAACW,IAAI,IAAI;IACzB,CAAC;EACH;;EAIA;EACA,SAASC,gBAAgBA,CAACP,MAAM,EAAEK,QAAQ,GAAG,YAAY,EAAE;IACzD,IAAI,CAACL,MAAM,EAAE,OAAO,EAAE;;IAEtB;IACA,MAAMQ,MAAM,GAAGR,MAAM,CAACI,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,GAAG,CAACK,MAAM,CAAC,CAAC,CAAC,GAAGT,MAAM,CAACU,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC;IACrG,MAAMC,MAAM,GAAGC,IAAI,CAACJ,MAAM,CAAC;;IAE3B;IACA,MAAMK,eAAe,GAAG,IAAId,UAAU,CAACY,MAAM,CAACD,MAAM,CAAC;IACrD,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACD,MAAM,EAAEI,CAAC,EAAE,EAAE;MACtCD,eAAe,CAACC,CAAC,CAAC,GAAGH,MAAM,CAACI,UAAU,CAACD,CAAC,CAAC;IAC3C;;IAEA;IACA,MAAME,YAAY,GAAG9D,IAAI,CAAC+D,OAAO,CAACJ,eAAe,CAAC;;IAElD;IACA,MAAMK,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACH,YAAY,CAAC,EAAE;MAAEV,IAAI,EAAED;IAAS,CAAC,CAAC;IACzD,OAAOe,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;EAClC;;EAMA;EACA,eAAeI,WAAWA,CAAA,EAAG;IAC3B,IAAI;MACF,MAAM;QAAEnC;MAAK,CAAC,GAAG,MAAMlC,KAAK,CAACmC,IAAI,CAACtB,QAAQ,GAAG,sBAAsB,EAAE;QAAEyD,QAAQ,EAAEpD;MAAmB,CAAC,CAAC;MACtG,OAAO,CAACgB,IAAI,CAACqC,KAAK;IACpB,CAAC,CAAC,MAAM;MACN,OAAO,KAAK;IACd;EACF;EAEAxE,SAAS,CAAC,MAAM;IACd,IAAI,CAACmB,kBAAkB,EAAE;IACzBmD,WAAW,CAAC,CAAC,CAACG,IAAI,CAACC,KAAK,IAAIpD,mBAAmB,CAACoD,KAAK,CAAC,CAAC;EACzD,CAAC,EAAE,CAACvD,kBAAkB,CAAC,CAAC;;EAExB;EACA,eAAewD,aAAaA,CAACC,CAAC,EAAE;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;IAClD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACJ,IAAI,CAAC;IACnC,MAAM3C,IAAI,GAAGgD,MAAM,CAACC,WAAW,CAACH,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC;IAEnD,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIJ,MAAM,CAACE,OAAO,CAAClD,IAAI,CAAC,EAAE;MAC/C,IAAIoD,KAAK,YAAYC,IAAI,IAAID,KAAK,CAACE,IAAI,GAAG,CAAC,EAAE;QAAA,IAAAC,YAAA,EAAAC,iBAAA;QAC3C,MAAMC,KAAK,GAAG,EAAAF,YAAA,GAAA3E,EAAE,CAAC8E,QAAQ,cAAAH,YAAA,wBAAAC,iBAAA,GAAXD,YAAA,CAAaI,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAKV,GAAG,CAAC,cAAAK,iBAAA,uBAAxCA,iBAAA,CAA0CrC,IAAI,KAAI,EAAE;QAClE,IAAI,CAACiC,KAAK,CAACjC,IAAI,CAAC2C,QAAQ,CAACL,KAAK,CAAC,EAAE;UAC/Bb,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACkB,SAAS,GAAG,wBAAwBZ,GAAG,GAAG;UAChF;QACF;QACAnD,IAAI,CAACmD,GAAG,CAAC,GAAG,MAAM5C,oBAAoB,CAAC6C,KAAK,CAAC;MAC/C,CAAC,MAAM,IAAI,CAACA,KAAK,EAAE;QACjBR,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACkB,SAAS,GAAG,sBAAsB;QACxE;MACF;IACF;IAEA,MAAMC,IAAI,GAAG;MACXhE,IAAI;MACJlB,YAAY,EAAE,CAAC,GAAGA,YAAY,EAAEM,IAAI,CAACgD,QAAQ,CAAC;MAC9CyB,IAAI,EAAE7D,IAAI,CAAC6D,IAAI;MACf1D,WAAW,EAAEvB,EAAE,CAACiF;IAClB,CAAC;IAED,IAAI;MACF,MAAM;QAAE7D;MAAK,CAAC,GAAG,MAAMlC,KAAK,CAACmC,IAAI,CAACtB,QAAQ,GAAG,+BAA+B,EAAEqF,IAAI,CAAC;MACnF,IAAIhE,IAAI,CAACqC,KAAK,EAAE;QACdO,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACkB,SAAS,GAAG/D,IAAI,CAACqC,KAAK;MAC9D,CAAC,MAAM;QACLM,IAAI,CAACsB,KAAK,CAAC,CAAC;QACZlF,eAAe,CAAC,EAAE,CAAC;QACnBE,qBAAqB,CAAC,EAAE,CAAC;QACzBE,mBAAmB,CAAC,IAAI,CAAC;QACzByD,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACkB,SAAS,GAAG,EAAE;QACpDnB,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACkB,SAAS,GAAG,yBAAyB;QAC5E,MAAMhE,QAAQ,CAAC,CAAC;MAClB;IACF,CAAC,CAAC,MAAM;MACN6C,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACkB,SAAS,GAAG,mBAAmB;IACvE;EACF;;EAEA;EACA,SAASG,iBAAiBA,CAAC;IAAEC;EAAI,CAAC,EAAE;IAClC,MAAMC,QAAQ,GAAGA,CAAA,KAAM;MACrB7E,SAAS,CAAC,CAAC,GAAGD,MAAM,EAAE,EAAE,CAAC,CAAC;MAC1BG,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,MAAM6E,WAAW,GAAIC,KAAK,IAAK;MAC7B/E,SAAS,CAACD,MAAM,CAACiF,MAAM,CAAC,CAACC,CAAC,EAAE7C,CAAC,KAAKA,CAAC,KAAK2C,KAAK,CAAC,CAAC;MAC/C7E,WAAW,CAACD,QAAQ,CAAC+E,MAAM,CAAC,CAACC,CAAC,EAAE7C,CAAC,KAAKA,CAAC,KAAK2C,KAAK,CAAC,CAAC;IACrD,CAAC;IAED,oBACEpG,OAAA;MAAKuG,SAAS,EAAC,WAAW;MAAAC,QAAA,GACvBpF,MAAM,CAACqF,GAAG,CAAC,CAACH,CAAC,EAAEF,KAAK,kBACnBpG,OAAA;QAAiBuG,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBAClDxG,OAAA;UACEiD,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC2C,QAAQ,CAACK,GAAG,CAAChD,IAAI,CAAC,GAAG,MAAM,GAAG,MAAO;UAC5D0C,IAAI,EAAE,GAAGM,GAAG,CAACN,IAAI,IAAIS,KAAK,EAAG;UAC7BG,SAAS,EAAC;QAAiE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5E,CAAC,eACF7G,OAAA;UACEiD,IAAI,EAAC,MAAM;UACX0C,IAAI,EAAE,GAAGM,GAAG,CAACN,IAAI,IAAIS,KAAK,UAAW;UACrCU,WAAW,EAAC,SAAS;UACrBP,SAAS,EAAC;QAAiE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5E,CAAC,EACDzF,MAAM,CAACiC,MAAM,GAAG,CAAC,iBAChBrD,OAAA;UAAQiD,IAAI,EAAC,QAAQ;UAAC8D,OAAO,EAAEA,CAAA,KAAMZ,WAAW,CAACC,KAAK,CAAE;UAACG,SAAS,EAAC,wBAAwB;UAAAC,QAAA,EAAC;QAE5F;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA,GAhBOT,KAAK;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAiBV,CACN,CAAC,eACF7G,OAAA;QAAQiD,IAAI,EAAC,QAAQ;QAAC8D,OAAO,EAAEb,QAAS;QAACK,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAE7F;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;EAEA,oBACE7G,OAAA;IAAKuG,SAAS,EAAC,2EAA2E;IAAAC,QAAA,gBACxFxG,OAAA,CAACF,MAAM;MAAA4G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACV7G,OAAA;MAAKuG,SAAS,EAAC,qEAAqE;MAAAC,QAAA,gBAKlFxG,OAAA;QAAKuG,SAAS,EAAC,gFAAgF;QAAAC,QAAA,gBAC7FxG,OAAA;UAAKuG,SAAS,EAAC,2BAA2B;UAAAC,QAAA,gBAGxCxG,OAAA;YACEuG,SAAS,EAAC,gFAAgF;YAC1FS,KAAK,EAAE;cAAEC,eAAe,EAAE,OAAO/D,gBAAgB,CAACxC,EAAE,CAAC0B,UAAU,CAAC;YAAI,CAAE;YAAAoE,QAAA,eAEtExG,OAAA;cAAKuG,SAAS,EAAC,sCAAsC;cAAAC,QAAA,gBACnDxG,OAAA;gBAAIuG,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,EAAE9F,EAAE,CAACiF;cAAI;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACjE7G,OAAA;gBAAGuG,SAAS,EAAC,qDAAqD;gBAAAC,QAAA,EAAE9F,EAAE,CAACwG;cAAW;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpF;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN7G,OAAA;YAAGuG,SAAS,EAAC,uCAAuC;YAAAC,QAAA,GAAE9F,EAAE,CAACyG,OAAO,IAAI,CAAC,EAAC,QAAM;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC,eACN7G,OAAA;UAAIuG,SAAS,EAAC,6BAA6B;UAAAC,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5D7G,OAAA;UAAKuG,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAC1D,CAAAnG,SAAA,GAAAK,EAAE,CAAC0G,KAAK,cAAA/G,SAAA,eAARA,SAAA,CAAUgD,MAAM,GACf3C,EAAE,CAAC0G,KAAK,CAACX,GAAG,CAAC,CAACY,OAAO,EAAE5D,CAAC,KAAK;YAAA,IAAA6D,eAAA;YAC3B,MAAMC,GAAG,IAAAD,eAAA,GAAG5G,EAAE,CAAC8G,WAAW,cAAAF,eAAA,uBAAdA,eAAA,CAAiBD,OAAO,CAAC;YACrC,IAAI,CAACE,GAAG,EAAE,OAAO,IAAI;YACrB,oBACEvH,OAAA;cAEEuG,SAAS,EAAC,gGAAgG;cAAAC,QAAA,gBAE1GxG,OAAA;gBAAKuG,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtCxG,OAAA;kBAAKuG,SAAS,EAAC,iDAAiD;kBAAAC,QAAA,GAAC,GAAC,EAAC/C,CAAC,GAAG,CAAC;gBAAA;kBAAAiD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC/E7G,OAAA;kBAAAwG,QAAA,gBACExG,OAAA;oBAAGuG,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAEa;kBAAO;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC1C7G,OAAA;oBAAGuG,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,GAAC,OAAK,EAACiB,QAAQ,CAACF,GAAG,CAACG,GAAG,CAAC;kBAAA;oBAAAhB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9D,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN7G,OAAA;gBAAMuG,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,OAAK,EAACe,GAAG,CAACI,IAAI;cAAA;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GAVzDpD,CAAC;cAAAiD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWH,CAAC;UAEV,CAAC,CAAC,gBAEF7G,OAAA;YAAGuG,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAC3D;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACN7G,OAAA;UACEuG,SAAS,EAAC,mHAAmH;UAC7HQ,OAAO,EAAEA,CAAA,KAAMxG,QAAQ,CAAC,QAAQ,GAAGC,EAAE,CAAE;UAAAgG,QAAA,EACxC;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAMN7G,OAAA;QAAKuG,SAAS,EAAC,gFAAgF;QAAAC,QAAA,EAC5F9F,EAAE,CAACkH,MAAM,gBACR5H,OAAA;UAAGuG,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAAsC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAElF7G,OAAA,CAAAE,SAAA;UAAAsG,QAAA,gBACExG,OAAA;YAAIuG,SAAS,EAAC,6CAA6C;YAAAC,QAAA,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAEpF7G,OAAA;YAAKuG,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBxG,OAAA;cAAOuG,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzE7G,OAAA;cAAKuG,SAAS,EAAC,yBAAyB;cAAAC,QAAA,gBACtCxG,OAAA;gBACEiD,IAAI,EAAC,MAAM;gBACXiC,KAAK,EAAEpE,kBAAmB;gBAC1B+G,QAAQ,EAAGtD,CAAC,IAAKxD,qBAAqB,CAACwD,CAAC,CAACuD,MAAM,CAAC5C,KAAK,CAAE;gBACvDqB,SAAS,EAAC;cAAiE;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC,eACF7G,OAAA;gBACEuG,SAAS,EAAC,6DAA6D;gBACvEQ,OAAO,EAAEA,CAAA,KAAM;kBACb,IAAI/F,gBAAgB,IAAIF,kBAAkB,EAAE;oBAC1CD,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAEE,kBAAkB,CAAC,CAAC;oBACtDC,qBAAqB,CAAC,EAAE,CAAC;kBAC3B;gBACF,CAAE;gBAAAyF,QAAA,EACH;cAED;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,EACL/F,kBAAkB,iBACjBd,OAAA;cACEuG,SAAS,EAAE,gBACTvF,gBAAgB,GAAG,gBAAgB,GAAG,cAAc,EACnD;cAAAwF,QAAA,EAEFxF,gBAAgB,GAAG,mBAAmB,GAAG;YAAgB;cAAA0F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CACJ,eACD7G,OAAA;cAAKuG,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EACvC5F,YAAY,CAAC6F,GAAG,CAAC,CAACsB,CAAC,EAAEC,GAAG,kBACvBhI,OAAA;gBAEEuG,SAAS,EAAC,oEAAoE;gBAAAC,QAAA,GAE7EuB,CAAC,eACF/H,OAAA;kBACE+G,OAAO,EAAEA,CAAA,KAAMlG,eAAe,CAACD,YAAY,CAACyF,MAAM,CAAC,CAACC,CAAC,EAAE7C,CAAC,KAAKA,CAAC,KAAKuE,GAAG,CAAC,CAAE;kBACzEzB,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAC5C;gBAED;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA,GATJmB,GAAG;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAUJ,CACP;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN7G,OAAA;YAAMQ,EAAE,EAAC,YAAY;YAACyH,QAAQ,EAAE3D,aAAc;YAACiC,SAAS,EAAC,WAAW;YAAAC,QAAA,gBAClExG,OAAA;cAAAwG,QAAA,gBACExG,OAAA;gBAAOkI,OAAO,EAAC,MAAM;gBAAC3B,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAAC;cAErD;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACR7G,OAAA;gBACE2F,IAAI,EAAC,MAAM;gBACXnF,EAAE,EAAC,MAAM;gBACTyC,IAAI,EAAC,MAAM;gBACXsD,SAAS,EAAC;cAAiE;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,GAAAvG,aAAA,GAELI,EAAE,CAAC8E,QAAQ,cAAAlF,aAAA,uBAAXA,aAAA,CAAamG,GAAG,CAAC,CAACR,GAAG,EAAEhB,GAAG,kBACzBjF,OAAA;cAAAwG,QAAA,gBACExG,OAAA;gBAAOkI,OAAO,EAAEjC,GAAG,CAACN,IAAK;gBAACY,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,GACrDP,GAAG,CAACN,IAAI,EAAC,IAAE,EAACM,GAAG,CAAChD,IAAI,EAAC,GACxB;cAAA;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,EACPZ,GAAG,CAACkC,IAAI,KAAK,KAAK,GACjBlC,GAAG,CAACmC,MAAM,KAAK,KAAK,gBAClBpI,OAAA,CAACgG,iBAAiB;gBAACC,GAAG,EAAEA;cAAI;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,GAE/BwB,KAAK,CAACC,IAAI,CAAC;gBAAEjF,MAAM,EAAEoE,QAAQ,CAACxB,GAAG,CAACmC,MAAM,CAAC,IAAI;cAAE,CAAC,CAAC,CAAC3B,GAAG,CAAC,CAACH,CAAC,EAAE7C,CAAC,kBACzDzD,OAAA;gBAEEiD,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC2C,QAAQ,CAACK,GAAG,CAAChD,IAAI,CAAC,GAAG,MAAM,GAAG,MAAO;gBAC5D0C,IAAI,EAAE,GAAGM,GAAG,CAACN,IAAI,IAAIlC,CAAC,EAAG;gBACzB8C,SAAS,EAAC;cAAsE,GAH3E9C,CAAC;gBAAAiD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAIP,CACF,CACF,gBAED7G,OAAA;gBACEiD,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC2C,QAAQ,CAACK,GAAG,CAAChD,IAAI,CAAC,GAAG,MAAM,GAAG,MAAO;gBAC5D0C,IAAI,EAAEM,GAAG,CAACN,IAAK;gBACfY,SAAS,EAAC;cAAiE;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CACF;YAAA,GAvBO5B,GAAG;cAAAyB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAwBR,CACN,CAAC,eAEF7G,OAAA;cACEiD,IAAI,EAAC,QAAQ;cACbsD,SAAS,EAAC,kHAAkH;cAAAC,QAAA,EAC7H;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEP7G,OAAA;YAAGuG,SAAS,EAAC,mBAAmB;YAAC/F,EAAE,EAAC;UAAY;YAAAkG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrD7G,OAAA;YAAGuG,SAAS,EAAC,qBAAqB;YAAC/F,EAAE,EAAC;UAAa;YAAAkG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA,eACxD;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzG,EAAA,CA5VuBD,WAAW;EAAA,QAChBV,WAAW,EACbD,SAAS;AAAA;AAAA+I,EAAA,GAFFpI,WAAW;AAAA,IAAAoI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}